<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <link href="static/assets/favicon.jpg" rel="icon">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='../static/css/new_style.css') }}">
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <link rel="stylesheet" href="https://cdn.plot.ly/plotly-latest.min.css">
        
    </head>
    
    <div class="container", style="text-align: center;">
        <body>
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
            <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>
            <nav class="navbar navbar-light bg-light p-3">
                <div class="d-flex col-12 col-md-3 col-lg-2 mb-2 mb-lg-0 flex-wrap flex-md-nowrap justify-content-between">
                    <a class="navbar-brand" href="#">
                        Blacklist Analytics
                    </a>
                    <button class="navbar-toggler d-md-none collapsed mb-3" type="button" data-toggle="collapse" data-target="#sidebar" aria-controls="sidebar" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
                <div class="col-12 col-md-4 col-lg-2">
                    <input class="form-control form-control-dark" type="text" placeholder="Search" aria-label="Search">
                </div>
                <div class="col-12 col-md-5 col-lg-8 d-flex align-items-center justify-content-md-end mt-3 mt-md-0">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-expanded="false">
                          Hello, username
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                          <li><a class="dropdown-item" href="#">Settings</a></li>
                          <li><a class="dropdown-item" href="#">Sign out</a></li>
                        </ul>
                      </div>
                </div>
            </nav>
            <div class="container-fluid">
                <div class="row">
                    <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                        <div class="position-sticky pt-md-5" style = "text-align: left;">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                  <a class="nav-link active" aria-current="page" href="/prediction_output/table">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                                    <span class="ml-2">Dashboard</span>
                                  </a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" href="/my_documents.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                                    <span class="ml-2">My Documents</span>
                                  </a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" href="/data_analysis.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                                    <span class="ml-2">Data Analysis</span>
                                  </a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" href="/access_models.html">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                                    <span class="ml-2">Access Models</span>
                                  </a>
                                </li>
                              </ul>
                        </div>
                    </nav>
                    <main class="col-md-9 ml-sm-auto col-lg-10 px-md-4 py-4">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                              <li class="breadcrumb-item"><a href="#">Home</a></li>
                              <li class="breadcrumb-item active" aria-current="page">Data Analysis</li>
                            </ol>
                        </nav>
                        <br><br>
                        <div class="boxes" style="margin: 0 auto;">
                            <div class="box">
                                <div></div>
                                <div>Fraud</div>
                                <div>Alert</div>
                                <div></div>
                            </div>
                            <div class="box">
                                <div>Charts</div>
                                <div></div>
                                <div></div>
                                <div></div>
                            </div>
                            <div class="box">
                                <div>Risk %</div>
                                <div></div>
                                <div>+ / -</div>
                                <div></div>
                            </div>
                            <div class="box">
                                <div></div>
                                <div>Blacklist</div>
                                <div>Integrity</div>
                                <div></div>
                            </div> 
                        </div>
                        <br><br>
                        <div class="post-card-2" style="margin: 0 auto;">
                            <a class="title-1">Blacklist Analytics</a>
                            <br><br>
                            <p class="title-2" style="text-align: justify;">Prediction was made with the {{ model_name }} model, and the Model's Prediction was {{ res }}.</p>
                            <p class="title-2" style="text-align: justify;">Welcome to the data analysis page, where you can find detailed insights and visualizations about your fraud prediction. Our platform provides a comprehensive range of data analysis capabilities to help you better understand the data and make informed decisions. One of the key features of this page is the ability to view informative graphs and statistics that show how your fraud prediction compares to the general population. With our advanced algorithms and data processing techniques, we can provide you with a breakdown of the most common types of fraud, along with detailed statistics on the number of fraudulent transactions that have been detected. We also offer a range of different graph types, including bar charts, pie charts, and line graphs, to help you visualize your data in a more intuitive way. Furthermore, we are working on new features to provide you with more detailed insights, such as heatmaps, geographical maps, and social network analysis. Additionally, our platform includes the capability to manage blacklists, enabling you to easily exclude known fraudulent entities from future analyses. Overall, our data analysis page provides an easy-to-use and powerful tool to help you make better decisions and stay ahead of potential fraud threats.</p>
                            <span class="datetime">Quick Breakdown by Blacklist Analytics</span>
                        </div>
                        <br><br>
                        <h2>Blacklist <span style="color: green; font-weight: bold;">Opinion</span></h2>
                        <br><br>
                        <div class = "card-stats-container">
                            <div class="card-stats">
                                <div class="header-stats">Risk Contributions</div>
                                <div class="body-stats">
                                <div class="skill">
                                    <div class="skill-name">Category of Purchase</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-neg" style="width: 55%"></div>
                                    </div>
                                    <div class="skill-percent-number">55%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">Location Effect</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 20%"></div>
                                    </div>
                                    <div class="skill-percent-number">20%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">Vendor Blacklist %</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 10%"></div>
                                    </div>
                                    <div class="skill-percent-number">10%</div>
                                </div>
                                </div>
                            </div>
                            <div class="card-stats">
                                <div class="header-stats">Past vs Present</div>
                                <div class="body-stats">
                                <div class="skill">
                                    <div class="skill-name">Fraud Risk Change</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 10%"></div>
                                    </div>
                                    <div class="skill-percent-number">-10%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">Number of Purchases Change</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 50%"></div>
                                    </div>
                                    <div class="skill-percent-number">-50%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">Amount Change</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-neg" style="width: 70%"></div>
                                    </div>
                                    <div class="skill-percent-number">70%</div>
                                </div>
                                </div>
                            </div>
                            <div class="card-stats">
                                <div class="header-stats">User Fraud Health</div>
                                <div class="body-stats">
                                <div class="skill">
                                    <div class="skill-name">Likelihood of Future Fraud</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 20%"></div>
                                    </div>
                                    <div class="skill-percent-number">20%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">Purchase Patterns</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 80%"></div>
                                    </div>
                                    <div class="skill-percent-number">80%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">Location Safety</div>
                                    <div class="skill-level">
                                    <div class="skill-percent-pos" style="width: 90%"></div>
                                    </div>
                                    <div class="skill-percent-number">90%</div>
                                </div>
                                </div>
                            </div>
                        </div>
                        <br><br>
                        <br><br>                       
                        <h2>Blacklist <span style="color: orange; font-weight: bold;">Graphs + / -</span></h2>
                        <div id="graph"></div>
                        <script>
                            var avg_amt_by_category = {{ avg_amt_by_category.to_dict(orient="records")|tojson }};
                            var user_spending = {{ user_spending }};

                            // Extract the category names
                            var categories = Object.keys(avg_amt_by_category[0]).filter(function(k) { return k !== "amt"; });

                            // Create a bar chart with the data
                            var chart = Plotly.newPlot('graph', [{
                                x: categories,
                                y: avg_amt_by_category.map(function(row) { return row['amt']; }),
                                type: 'bar',
                                name: 'Average spending'
                            },
                            {
                                x: categories,
                                y: [user_spending, 0, 0, 0],
                                type: 'bar',
                                name: 'User spending',
                                marker: {
                                    color: 'orange'
                                }
                            }]);

                            // Update the chart layout
                            chart.updateLayout({
                                title: 'User spending vs. average spending by category',
                                barmode: 'group'
                            });
                        </script>
                        <br><br>
                        
                        <br><br>
                        <br><br>
                        <h2>Checkout Blacklist's Premium Packages</h2>
                        <br><br>
                        <div class="card-container">
                            <div class="card">
                            <div class="pack-container">
                            <div class="header">
                                <p class="title">
                                Blacklist Starter
                                </p>
                                <div class="price-container">
                                <span>$</span>9.99
                                <span>/mo</span>
                                </div>
                            </div>
                            <div>
                                <ul class="lists">
                                <li class="list">
                                    <span>
                                    <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                    </svg>
                                    </span>
                                    <p>
                                    Access to XBNet V1.5
                                    </p>
                                </li>
                                <li class="list">
                                    <span>
                                    <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                    </svg>
                                    </span>
                                    <p>
                                    25 Predictions
                                    </p>
                                </li>
                                <li class="list">
                                    <span>
                                    <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                    </svg>
                                    </span>
                                    <p>
                                    Single User Access
                                    </p>
                                </li>
                                <li class="list">
                                    <span>
                                    <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                    </svg>
                                    </span>
                                    <p>
                                    24 Hour Tech Support
                                    </p>
                                </li>
                                </ul>
                            </div>
                            <div class="button-container">
                                <button type="button" onclick="redirectToMarket()">Buy Now</button>
                            </div>
                            </div>
                            </div>
                            <div class="card">
                            <div class="pack-container2">
                                <div class="header">
                                <p class="title">
                                    Blacklist Professional
                                </p>
                                <div class="price-container">
                                    <span>$</span>29.99
                                    <span>/mo</span>
                                </div>
                                </div>
                                <div>
                                <ul class="lists">
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        Access to XBNet V2.0
                                    </p>
                                    </li>
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        75 Predictions
                                    </p>
                                    </li>
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        Multiple Access
                                    </p>
                                    </li>
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        24 Hour Tech Support
                                    </p>
                                    </li>
                                </ul>
                                </div>
                                <div class="button-container">
                                    <button type="button" onclick="redirectToMarket()">Buy Now</button>
                                </div>
                            </div>
                            </div>
                            <div class="card">
                            <div class="pack-container3">
                                <div class="header">
                                <p class="title">
                                    Blacklist Infinity
                                </p>
                                <div class="price-container">
                                    <span>$</span>59.99
                                    <span>/mo</span>
                                </div>
                                </div>
                                <div>
                                <ul class="lists">
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        Access to Gotham + Others
                                    </p>
                                    </li>
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        Unlimited Predictions
                                    </p>
                                    </li>
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        Unlimited Access
                                    </p>
                                    </li>
                                    <li class="list">
                                    <span>
                                        <svg aria-hidden="true" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M4.5 12.75l6 6 9-13.5" stroke-linejoin="round" stroke-linecap="round"></path>
                                        </svg>
                                    </span>
                                    <p>
                                        Live Tech Support
                                    </p>
                                    </li>
                                </ul>
                                </div>
                                <div class="button-container">
                                    <button type="button" onclick="redirectToMarket()">Buy Now</button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </body>
    </div>
</html>